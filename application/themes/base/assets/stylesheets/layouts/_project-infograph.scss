@import 'project_defaults';

@-webkit-keyframes pulsate-bck {
0% {
    -webkit-transform: scale(1);
            transform: scale(1);

            // mobile
    @include media-breakpoint-down(sm) {
        -webkit-transform: scale(.6);
            transform: scale(.6);
    }
}
50% {
    -webkit-transform: scale(0.98);
            transform: scale(0.98);

            // mobile
    @include media-breakpoint-down(sm) {
        -webkit-transform: scale(.58);
            transform: scale(.58);
    }
}
100% {
    -webkit-transform: scale(1);
            transform: scale(1);

            // mobile
    @include media-breakpoint-down(sm) {
        -webkit-transform: scale(.6);
            transform: scale(.6);
    }
}
}
@keyframes pulsate-bck {
0% {
    -webkit-transform: scale(1);
            transform: scale(1);

            // mobile
    @include media-breakpoint-down(sm) {
        -webkit-transform: scale(.6);
            transform: scale(.6);
    }
}
50% {
    -webkit-transform: scale(0.98);
            transform: scale(0.98);

             // mobile
    @include media-breakpoint-down(sm) {
        -webkit-transform: scale(.58);
            transform: scale(.58);
    }
}
100% {
    -webkit-transform: scale(1);
            transform: scale(1);

    // mobile
    @include media-breakpoint-down(sm) {
        -webkit-transform: scale(.6);
            transform: scale(.6);
    }
}


}
@-webkit-keyframes pulsate-bck-mobile {
0% {
    -webkit-transform: scale(.6);
            transform: scale(.6);
}
50% {
    -webkit-transform: scale(.58);
    transform: scale(.58);
}
100% {
    -webkit-transform: scale(.6);
            transform: scale(.6);
}
}
@keyframes pulsate-bck-mobile {
0% {
    -webkit-transform: scale(.6);
    transform: scale(.6);
}
50% {
    -webkit-transform: scale(.58);
    transform: scale(.58);
}
100% {
    -webkit-transform: scale(.6);
            transform: scale(.6);
}


}

.infograph{
    display: flex;
    flex-wrap: wrap;
    margin-top: 5rem;

    // desktop
    @include media-breakpoint-down(xl) {
        transform: scale(.9);
    }

    .info-panel-text{
        margin-bottom: 9rem;
        text-align: center;

        // desktop
        @include media-breakpoint-down(xl) {
            margin-bottom: 5rem;
        }

        // tablet
        @include media-breakpoint-between(md, lg) {
            margin-bottom: 7rem;
        }

        h3{
            color: $color-white;
            font-size: 2.25rem;
            line-height: 3rem;
            letter-spacing: 0;
            margin-bottom: 0;
        }
    }

    .info-card{
        @include project-default-transition();
        margin-bottom: 11.25rem;

        // mobile
        @include media-breakpoint-down(sm) {
            margin-bottom: 3.25rem;
        }

        .img-container{
            position: relative;
            margin-bottom: 0.5rem;

            &:before{
                content: '';
                width: 0%;
                height: 1px;
                border-bottom: 2px dashed rgba($color-white, .2);
                display: block;
                position: absolute;
                opacity: 0;
                @include project-default-transition();
            }

            i{
                padding: 1.5rem;
                color: $color-white;
                font-size: 1.5rem;
                border: 1px solid rgba($color-white, .2);
                border-radius: 0.75rem;
                background-color: $color-theme-primary;
                z-index: 1;
            }
        }

        &-body{

            .texts{

                span{
                    color: $color-white;
                    font-family: $project-default-font-family-1-MEDIUM;
                    font-size: 1.5rem;

                    // mobile
                    @include media-breakpoint-down(sm) {
                        font-size: 1rem;
                    }
                }
            }
        }

        &:nth-child(2){

            .img-container{

                &:before{
                    right: 50%;
                }
            }

            // mobile
            @include media-breakpoint-down(sm) {
                text-align: left !important;

                .img-container{
                    justify-content: flex-start !important;
                }
            }
        }

        &:nth-child(3){

            .img-container{

                &:after{
                    content: url('#{$themePath}/img/cloud.svg');
                    position: absolute;
                    transform: scale(.8);
                    @include project-default-transition();

                    // mobile
                    @include media-breakpoint-down(sm) {
                        transform: scale(0.6) !important;
                        top: -115%;
                    }
                }

                &:before{
                    display: none;
                }

                i{
                    border:none;
                }

                &.active{

                    &:after{
                        transform: scale(1);
                        transition-delay: .5s;
                    }
                }
            }
        }

        &:nth-child(4){

            .img-container{

                &:before{
                    left: -20%;

                    // tablet large
                    @include media-breakpoint-only(lg) {
                        left: -15%;
                    }

                    // tablet small
                    @include media-breakpoint-only(md) {
                        left: 0%;
                    }

                    // mobile
                    @include media-breakpoint-down(sm) {
                        left: 5%;
                    }
                }
            }

            // mobile
            @include media-breakpoint-down(sm) {
                text-align: right !important;

                .img-container{
                    justify-content: flex-end !important;
                }
            }
        }


        &:last-child{
            margin: auto;

            .img-container{

                &:before{
                    content: '';
                    width: 0%;
                    height: 1px;
                    transform: rotate(90deg);
                    top: -300%;
                }
            }
        }
    }
}

.infograph-wrapper{

    .slick-slide{

        // STEP 1
        &:first-child{

            .info-card{
                opacity: 0;
            }

            &.slick-active{

                .info-card{

                    &:nth-child(2){
                        transition-delay: 1s;
                        opacity: 1;

                        .img-container{

                            &.active{

                                &:before{
                                    opacity: 1;
                                    width: 80%;
                                    transition-delay: .5s;
                                    transition-duration: 1s;
                                    right: -20%;

                                    // tablet large
                                    @include media-breakpoint-only(lg) {
                                        right: -15%;
                                        width: 70%;
                                    }

                                    // tablet small
                                    @include media-breakpoint-only(md) {
                                        right: 0%;
                                        width: 60%;
                                    }

                                    // mobile
                                    @include media-breakpoint-down(sm) {
                                        right: 5%;
                                    }
                                }
                            }
                        }
                    }

                    &:nth-child(3){
                        opacity: 1;
                    }

                    &:last-child{
                        transition-delay: 1.5s;
                        opacity: 1;

                        .img-container{

                            &.active{

                                &:before{
                                    opacity: 1;
                                    width: 65%;
                                    transition-delay: 1.5s;
                                    transition-duration: 1s;
                                    top: -100%;

                                    // tablet large
                                    @include media-breakpoint-only(lg) {
                                        top: -60%;
                                    }

                                    // mobile
                                    @include media-breakpoint-down(sm) {
                                        width: 85%;
                                        top: -50%;
                                    }

                                    @media screen and (max-width: 380px) {
                                        width: 110%;
                                    }
                                }
                            }
                        }

                        .info-card-body{

                            &.active{
                                //transition-delay: .5s;
                            }
                        }
                    }
                }
            }
        }

        // STEP 2
        &:nth-child(2){

            .info-card{
                opacity: 0;

                &:nth-child(2){

                    .img-container{

                        &:before{
                            opacity: 1;
                            width: 80%;
                            right: -20%;

                            // tablet large
                            @include media-breakpoint-only(lg) {
                                right: -15%;
                                width: 70%;
                            }

                            // tablet small
                            @include media-breakpoint-only(md) {
                                right: 0%;
                                width: 60%;
                            }

                            // mobile
                            @include media-breakpoint-down(sm) {
                                right: 5%;
                            }
                        }
                    }
                }

                &:last-child{

                    .img-container{

                        &:before{
                            border-style: solid;
                            top: 100%;
                            border-width: 0 0 2px 0;
                        }

                        &:after{
                            content: '';
                            height: 1px;
                            transform: rotate(90deg);
                            border-width: 0 0 2px 0;
                            border-style: dashed;
                            border-color: rgba($color-white, .2);
                            display: block;
                            position: absolute;
                            opacity: 1;
                            @include project-default-transition();
                            width: 65%;
                            top: -100%;

                            // tablet large
                            @include media-breakpoint-only(lg) {
                                top: -60%;
                            }

                            // mobile
                            @include media-breakpoint-down(sm) {
                                width: 85%;
                                top: -50%;
                            }

                            @media screen and (max-width: 380px) {
                                width: 110%;
                            }
                        }
                    }
                }
            }

            &.slick-active{

                .info-card{

                    &:nth-child(2){
                        opacity: 1;
                    }

                    &:nth-child(3){
                        opacity: 1;

                        .img-container{

                            &:after{
                                -webkit-animation: pulsate-bck 1s ease-in-out 2.1s infinite both;
                                animation: pulsate-bck 1s ease-in-out 2.1s infinite both;

                                // mobile
                                @include media-breakpoint-down(sm) {
                                    -webkit-animation: pulsate-bck-mobile 1s ease-in-out 2.1s infinite both;
                                    animation: pulsate-bck-mobile 1s ease-in-out 2.1s infinite both;
                                }
                            }
                        }
                    }

                    &:last-child{
                        opacity: 1;

                        .img-container{

                            &.active{

                                &:before{
                                    opacity: 1;
                                    width: 63%;
                                    transition-delay: 2s;
                                    top: -100%;

                                    // tablet large
                                    @include media-breakpoint-only(lg) {
                                        top: -60%;
                                    }

                                    // mobile
                                    @include media-breakpoint-down(sm) {
                                        width: 85%;
                                        top: -50%;
                                    }

                                    @media screen and (max-width: 380px) {
                                        width: 110%;
                                    }
                                }

                                &:after{
                                    opacity: 0;
                                    transition-delay: 1s;
                                    transition-duration: 1s;
                                }
                            }
                        }
                    }
                }
            }
        }

        // STEP 3
        &:nth-child(3){

            .info-card{
                opacity: 0;

                &:nth-child(2){

                    .img-container{

                        &:before{
                            right: -100%;
                            border-style: solid;
                            border-color: $color-orange;
                            border-width: 0 0 2px 0;
                        }
                    }
                }

                &:nth-child(3){

                    .img-container{

                        &:after{
                           /*  -webkit-animation: pulsate-bck 1s ease-in-out 2 both;
                                    animation: pulsate-bck 1s ease-in-out 2 both; */
                        }
                    }
                }

                &:nth-child(4){

                    .img-container{

                        &:before{
                            left: -100%;
                            border-style: solid;
                            border-color: $color-orange;
                            border-width: 0 0 2px 0;
                        }
                    }
                }

                &:last-child{

                    .img-container{

                        &:before{
                            border-width: 0 0 2px 0;
                            border-style: solid;
                            top: 100%;
                        }
                    }
                }
            }

            &.slick-active{

                .info-card{

                    &:nth-child(2){
                        opacity: 1;

                        .img-container{

                            &.active{

                                &:before{
                                    opacity: 1;
                                    width: 80%;
                                    transition-delay: 1s;
                                    transition-duration: 1s;
                                    right: -20%;

                                    // tablet large
                                    @include media-breakpoint-only(lg) {
                                        right: -15%;
                                        width: 70%;
                                    }

                                    // tablet small
                                    @include media-breakpoint-only(md) {
                                        right: 0%;
                                        width: 60%;
                                    }

                                    // mobile
                                    @include media-breakpoint-down(sm) {
                                        right: 5%;
                                    }
                                }
                            }
                        }
                    }

                    &:nth-child(3){
                        opacity: 1;

                        .img-container{

                            &:after{
                                -webkit-animation: pulsate-bck 1s ease-in-out 2 both;
                                        animation: pulsate-bck 1s ease-in-out 2 both;

                                // mobile
                                @include media-breakpoint-down(sm) {
                                    -webkit-animation: pulsate-bck-mobile 1s ease-in-out 2 both;
                                        animation: pulsate-bck-mobile 1s ease-in-out 2 both;
                                }
                            }
                        }
                    }

                    &:nth-child(4){
                        opacity: 1;

                        .img-container{

                            &.active{

                                &:before{
                                    opacity: 1;
                                    width: 80%;
                                    transition-delay: 1s;
                                    transition-duration: 1s;
                                    left: -20%;

                                    // tablet large
                                    @include media-breakpoint-only(lg) {
                                        left: -15%;
                                        width: 70%;
                                    }

                                    // tablet small
                                    @include media-breakpoint-only(md) {
                                        left: 0%;
                                        width: 60%;
                                    }

                                    // mobile
                                    @include media-breakpoint-down(sm) {
                                        left: 5%;
                                    }
                                }
                            }
                        }
                    }

                    &:last-child{
                        opacity: 1;

                        .img-container{

                            &.active{

                                &:before{
                                    opacity: 1;
                                    width: 65%;
                                    top: -100%;

                                    // tablet large
                                    @include media-breakpoint-only(lg) {
                                        top: -60%;
                                    }

                                    // mobile
                                    @include media-breakpoint-down(sm) {
                                        width: 85%;
                                        top: -50%;
                                    }

                                    @media screen and (max-width: 380px) {
                                        width: 110%;
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }

        // STEP 4 - 5
        &:nth-child(4),
        &:last-child{

            .info-card{
                opacity: 0;

                &:nth-child(2){

                    .img-container{

                        &:before{
                            width: 80%;
                            border-style: solid;
                            border-color: $color-orange;
                            border-width: 0 0 2px 0;
                            right: -20%;

                            // tablet large
                            @include media-breakpoint-only(lg) {
                                right: -15%;
                                width: 70%;
                            }

                            // tablet small
                            @include media-breakpoint-only(md) {
                                right: 0%;
                                width: 60%;
                            }

                            // mobile
                            @include media-breakpoint-down(sm) {
                                right: 5%;
                            }
                        }
                    }
                }

                &:nth-child(3){

                    .img-container{

                        &:after{
                            -webkit-animation: pulsate-bck 1s ease-in-out 2.1s infinite both;
                                    animation: pulsate-bck 1s ease-in-out 2.1s infinite both;

                            // mobile
                            @include media-breakpoint-down(sm) {
                                -webkit-animation: pulsate-bck-mobile 1s ease-in-out 2.1s infinite both;
                                    animation: pulsate-bck-mobile 1s ease-in-out 2.1s infinite both;
                            }
                        }
                    }
                }

                &:nth-child(4){

                    .img-container{

                        &:before{
                            border-style: solid;
                            border-color: $color-orange;
                            border-width: 0 0 2px 0;
                            left: -20%;
                            width: 80%;

                            // tablet large
                            @include media-breakpoint-only(lg) {
                                left: -15%;
                            }

                            // tablet small
                            @include media-breakpoint-only(md) {
                                left: 0%;
                            }

                            // mobile
                            @include media-breakpoint-down(sm) {
                                left: 5%;
                            }
                        }
                    }
                }

                &:last-child{

                    .img-container{

                        &:before{
                            border-width: 0 0 2px 0;
                            border-style: solid;
                            width: 65%;
                            top: -100%;

                            // tablet large
                            @include media-breakpoint-only(lg) {
                                top: -60%;
                            }

                            // mobile
                            @include media-breakpoint-down(sm) {
                                width: 85%;
                                top: -50%;
                            }

                            @media screen and (max-width: 380px) {
                                width: 110%;
                            }
                        }
                    }
                }
            }

            &.slick-active{

                .info-card{
                    opacity: 1;

                    .img-container{

                        &.active{

                            &:before{
                                opacity: 1;

                            }
                        }
                    }

                    &:nth-child(3){

                        .img-container{

                            &:after{
                                animation: none;
                            }
                        }
                    }

                    &:nth-child(2),
                    &:nth-child(4){

                        .img-container{

                            i{
                                border: 1px solid $color-orange;
                            }
                        }
                    }
                }
            }
        }
    }
}

